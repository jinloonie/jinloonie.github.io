<html>
    <head>
         <meta charset="UTF-8">
         <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
        <style>
        body{
            background:url(echochamber.jpg);
            background-size: cover;
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-position: center;
            justify-content: center;
            align-items: center;
            margin: 0px;
        }
        .dialoguebox {
          position: absolute;
    left: 10px;
    right: 10px;
    bottom: 13px;
    width: 98%;
    height: 170px;
    background-color: rgba(0, 0, 0, 0.8);
    border: 3px solid darkred;
    border-radius: 10px;
    color: white;
    font-family: "Creepster", system-ui; 
    font-size: 16px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 10px;
    box-sizing: border-box;
    overflow: visible;
    border-radius: 12px;  
        } 
        .glitch-typewriter {
           font-size: 26px;
           color: rgb(235, 235, 235);
           text-shadow:
           0 0 5px #f0f,
           0 0 10px #0ff,
           0 0 20px #f0f,
           0 0 40px #0ff;
           position: relative;
           white-space: normal;
           border-right: none;
           text-align: center;
           animation: blink-caret 0.7s step-end infinite;
        }
        @keyframes blink {
        from, to { border-color: transparent; }
        50% { border-color: white; }
        }
        .you {
          color: rgb(255, 0, 0);
        font-size: 20px;
        text-decoration: none;
        font-weight: bold;
        display: block;
        text-align: left;
        margin: 0;
        padding: 0;
        }
        a {
        color: rgb(255, 0, 0);
        font-size: 20px;
        text-decoration: none;
        font-weight: bold;
        display: block;
        text-align: right;
        margin: 0;
        padding: 0;
        transition: opacity 1s ease; /* Smooth fade in */
            pointer-events: none; /* Prevent click when hidden */
        }
        a.show {
            opacity: 1; /* Become visible */
            pointer-events: auto;
       }
      a:hover {
        text-decoration: underline;
      }
     .clown-gif {
            bottom: -220px;
            left: -360px;
            position: fixed;
        }
        </style> 
    </head>
    <body>
      <div class="clown-gif"><img src="clownpixel.gif"></div>
        <div class="dialoguebox">
        <p class="you"> Anonymous: </p>
        <p id="glitch-text" class="glitch-typewriter"></p>
    <p><a href="page5.html" id="nextLink"> Reply </a></p>
  </div>
    <script>
const dialogues = [
    "Welcome to the echo chamber!"
];
let currentDialogue = 0;
let i = 0;
const target = document.getElementById("glitch-text");

function type() {
    if (i < dialogues[currentDialogue].length) {
        target.innerHTML += dialogues[currentDialogue].charAt(i);
        i++;
        setTimeout(type, 70); // Typing speed
    } else {
        setTimeout(nextDialogue, 1000);
    }
}

function nextDialogue() {
    currentDialogue++;
    if (currentDialogue < dialogues.length) {
        target.innerHTML = "";
        i = 0;
        type();
    } else {
        nextLink.classList.add("show");
    }
}

const welcomeAudio = new Audio("welcome.mp3");
const bgMusic = new Audio("creepybgm.mp3");
bgMusic.loop = true;
bgMusic.currentTime = 1;
bgMusic.volume = 0.4;

window.onload = () => {
    // Play both audios at the same time
    welcomeAudio.play().catch(e => console.log("Welcome audio autoplay blocked:", e));
    bgMusic.play().catch(e => console.log("BGM autoplay blocked:", e));

    type();
};
</script>

        
    </body>
</html>